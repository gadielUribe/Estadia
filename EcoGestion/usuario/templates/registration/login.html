{% extends "base.html" %}
{% load static %}

{% block title %}Iniciar sesión{% endblock %}

{% block extra_css %}
  <link href="{% static 'css/login.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="login-page">
  <div class="login-container">

    <h2>Inicio de Sesión</h2>

    {% if error %}
      <div class="alert alert-danger" role="alert">
        {{ error }}
      </div>
    {% elif form.errors %}
      <div class="alert alert-danger" role="alert">
        Credenciales inválidas. Intenta de nuevo.
      </div>
    {% endif %}

    <form action="{% url 'login' %}" method="post">
        {% csrf_token %}
        
        <label for="{{ form.matricula.id_for_label }}">Matrícula</label>
        {{ form.matricula }}

        <label for="{{ form.password.id_for_label }}">Contraseña</label>
        {{ form.password }}

        <a href="{% url 'password_reset' %}" class="forgot-password">¿Olvidaste tu contraseña?</a>
        
        <input type="hidden" name="next" value="{{ next }}">
        
        <button type="submit" class="btn-login">Acceder</button>
    </form>

  </div>
</div>
{% endblock %}
